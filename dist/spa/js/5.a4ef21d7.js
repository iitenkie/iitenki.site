(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{ebf1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-toolbar",[a("q-toolbar-title",[t._v("\n        bot控制台\n        "),t.islogin?t._e():a("q-checkbox",{attrs:{value:t.bilistat,label:"bili",color:1==t.bilistat?"positive":null==t.bilistat?"grey":"negative","keep-color":""}}),t.islogin?t._e():a("q-checkbox",{attrs:{value:t.nicostat,label:"nico",color:1==t.nicostat?"positive":null==t.nicostat?"grey":"negative","keep-color":""}})],1),a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.right=!t.right}}})],1)],1),t.islogin?t._e():a("q-drawer",{attrs:{side:"right",bordered:""},model:{value:t.right,callback:function(e){t.right=e},expression:"right"}},[a("div",{staticClass:"q-ma-sm"},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col q-table__title q-ml-sm"},[t._v("系统消息")]),a("q-space"),a("q-btn",{staticClass:"col-auto q-ma-xs",attrs:{loading:t.loading,unelevated:"",round:"",color:"grey",icon:"refresh"},on:{click:t.notifyReset},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-facebook")]},proxy:!0}],null,!1,4102112682)})],1),t._l(t.notifys,(function(e,i){return a("q-card",{key:i,staticClass:"q-my-sm q-pa-sm",attrs:{flat:"",bordered:""}},[a("div",{staticClass:"q-mb-xs text-body2 text-grey-7"},[t._v(t._s(e.time_at))]),a("div",{staticClass:"text-body2"},[t._v(t._s(e.content.split("。")[0]))])])}))],2)]),a("q-page-container",[a("router-view")],1)],1)},o=[],s=(a("e6cf"),{data(){return{right:!0,notifys:[],loading:!1,islogin:!1,bilistat:null,nicostat:null}},methods:{async notifyReset(){this.loading=!0;let t=await this.$util.get("/cookieartbot/api/getNotify");this.notifys=t.data.data,this.loading=!1},async routeChange(t){"/bot-panel/login"==t.path?this.islogin=!0:this.islogin=!1,await this.$util.get("/cookieartbot/islogin")}},watch:{$route(t){this.routeChange(t)}},async created(){null==this.$q.localStorage.getItem("token")&&this.$router.push("/bot-panel/login"),this.$axios.interceptors.response.use((t=>(401==t.status&&"/cookieartbot/login"!=t.config.url&&"/bot-panel/login"!=this.$route.path?this.$router.push("/bot-panel/login"):200==t.status&&"/bot-panel/login"==this.$route.path&&this.$router.push("/bot-panel/image-storage"),t)),(t=>Promise.reject(t))),this.routeChange(this.$route),await this.notifyReset();let t=await this.$util.get("/cookieartbot/loginstat");this.bilistat=t.data.data.bilibili,this.nicostat=t.data.data.niconico}}),n=s,l=a("2877"),r=a("4d5a"),c=a("e359"),u=a("65c6"),h=a("6ac5"),g=a("8f8e"),b=a("9c40"),d=a("9404"),p=a("eaac"),f=a("2c91"),y=a("e669"),v=a("f09f"),q=a("09e3"),m=a("eebe"),k=a.n(m),w=Object(l["a"])(n,i,o,!1,null,null,null);e["default"]=w.exports;k()(w,"components",{QLayout:r["a"],QHeader:c["a"],QToolbar:u["a"],QToolbarTitle:h["a"],QCheckbox:g["a"],QBtn:b["a"],QDrawer:d["a"],QTable:p["a"],QSpace:f["a"],QSpinnerFacebook:y["a"],QCard:v["a"],QPageContainer:q["a"]})}}]);