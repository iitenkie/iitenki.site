(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{1:function(t,e){},2:function(t,e){},"4bd4":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-center row",staticStyle:{height:"100vh"}},[s("div",{staticClass:"col-lg-6 col-md-8 col-sm-10 col-xs-11"},[s("transition",{attrs:{name:"slide"}},[s("q-form",[s("q-input",{staticClass:"q-mb-xs",attrs:{outlined:"",label:"获取N站视频高清封面",placeholder:"视频ID",loading:t.loading,readonly:t.loading,error:t.error,"error-message":t.errorMessage},scopedSlots:t._u([{key:"append",fn:function(){return[t.loading?t._e():s("q-btn",{attrs:{round:"",flat:"",color:"primary",icon:"arrow_forward"},on:{click:t.run}})]},proxy:!0}]),model:{value:t.smid,callback:function(e){t.smid="string"===typeof e?e.trim():e},expression:"smid"}})],1)],1),s("transition",{attrs:{name:"slide"}},[1==t.state?s("div",{staticClass:"text-center text-primary cursor-pointer",on:{click:function(e){return t.imgdownload(t.smid)}}},[1==t.state?s("img",{key:"image",staticClass:"q-mb-sm thumbnail shadow-6",attrs:{src:t.image}}):t._e(),s("q-icon",{staticStyle:{"font-size":"1.75em"},attrs:{name:"arrow_upward"}}),s("br"),s("span",{staticClass:"text-subtitle1"},[t._v("点击保存")])],1):t._e()])],1)])},a=[],i=s("ef21"),n=s.n(i),o={name:"GetThumbnail",data(){return{state:0,smid:"",image:"",loading:!1,error:!1,errorMessage:""}},methods:{run(){this.valid(this.smid)?this.error=!0:(this.loading=!0,this.error=!1,n.a.read("https://iitenki.site/ajax/getNicoThumbnailForward?smid="+this.smid).then((t=>{t.getBase64(n.a.MIME_JPEG,((t,e)=>{this.state=1,this.image=e,this.loading=!1}))})).catch((t=>{this.loading=!1,this.error=!0,console.log(t);const e=t.message,s=Number(e.substring(e.lastIndexOf("s ")+2,e.lastIndexOf(" for")));584===s?this.errorMessage="该sm号不存在":408!==s&&504!==s||(this.errorMessage="连接超时，请稍后再试")})))},valid(t){return 0===t.length?(this.errorMessage="未输入sm号",!0):!/^sm[0-9]+$/.test(t)&&(this.errorMessage="sm号有误",!0)},imgdownload(t){let e=document.createElement("a");e.href=this.image,e.download=`${t}.jpg`,e.click()}},watch:{smid(){this.error=!1}}},l=o,c=(s("6c4d"),s("2877")),d=s("0378"),m=s("27f9"),u=s("9c40"),h=s("0016"),g=s("eebe"),f=s.n(g),p=Object(c["a"])(l,r,a,!1,null,null,null);e["default"]=p.exports;f()(p,"components",{QForm:d["a"],QInput:m["a"],QBtn:u["a"],QIcon:h["a"]})},"6c4d":function(t,e,s){"use strict";s("d697")},d697:function(t,e,s){}}]);